<!DOCTYPE html>
<html lang="en">
<head>
<!-- Calendly preconnects for faster loading -->
<link rel="dns-prefetch" href="https://assets.calendly.com">
<link rel="dns-prefetch" href="https://calendly.com">
<link rel="preconnect" href="https://assets.calendly.com" crossorigin>
<link rel="preconnect" href="https://calendly.com" crossorigin>

<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Cosmic Physics â€” Tutoring</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">

<style>
html, body {
  margin:0; padding:0;
  height:auto !important;
  min-height:100% !important;
  overflow-y:auto !important;
  -webkit-overflow-scrolling:touch;
}
body {
  font-family:'Press Start 2P', cursive;
  color:#00ffcc;
  background:
    radial-gradient(circle at 30% 20%, #002 0%, transparent 40%),
    radial-gradient(circle at 70% 10%, #113 0%, transparent 45%),
    radial-gradient(circle at 50% 90%, #001 0%, transparent 50%),
    #000;
  image-rendering:pixelated;
}

/* prevent decorative layers from blocking scroll */
.stars, .stars::before, .stars::after {
  position:fixed; inset:0; content:""; z-index:-1;
  pointer-events:none;
  background:transparent;
  box-shadow:
    10vw 10vh #fff, 20vw 30vh #0ff, 35vw 20vh #ff0, 50vw 15vh #f0f,
    65vw 25vh #0ff, 80vw 10vh #fff, 15vw 60vh #ff0, 30vw 70vh #f0f,
    45vw 65vh #fff, 60vw 50vh #0ff, 75vw 40vh #ff0, 90vw 55vh #f0f,
    5vw 85vh #fff, 25vw 90vh #0ff, 55vw 85vh #ff0, 85vw 80vh #f0f;
  opacity:.7;
}
.stars::before { transform:scale(1.4); opacity:.5; }
.stars::after { transform:scale(.7); opacity:.9; }

/* everything else unchanged visually */
header { text-align:center; padding:26px 10px 18px; background:linear-gradient(90deg,#ff00cc,#3333ff);
  border-bottom:4px double #00ffff; text-shadow:2px 2px #000; box-shadow:0 0 18px #00ffff; position:relative; cursor:pointer; }
header h1 { margin:0; font-size:22px; color:yellow; }
.blink { animation:blink 1s steps(2) infinite }
@keyframes blink { 50% { opacity:.35 } }

.tag { margin:8px 0 0; font-size:12px; color:#fff; }
nav { text-align:center; padding:10px 0; background:#111;
  border-top:2px solid #00ffff; border-bottom:2px solid #00ffff; }
nav a { color:#00ffcc; text-decoration:none; margin:0 12px; font-size:12px; }
nav a:hover { color:yellow; text-shadow:0 0 10px yellow }
.marq { background:#001a1a; border-top:3px dashed #0ff; border-bottom:3px dashed #0ff; color:#0ff; font-size:12px; padding:4px 0; }
main { max-width:900px; margin:22px auto; padding:0 12px }
.panel { background:rgba(0,0,40,.85); border:3px ridge #00ffff; box-shadow:0 0 18px #00ffff;
  padding:20px; margin:22px 0; }
.panel h2 { margin:0 0 12px; color:#fffb91; text-shadow:2px 2px #000 }

footer { text-align:center; padding:18px; font-size:10px; color:#00cccc; border-top:2px solid #00ffff; margin-top:28px; }

/* shimmer loader */
@keyframes cal-shimmer { 0%{background-position:100% 0} 100%{background-position:0 0} }
.cal-skeleton {
  border-radius:16px; height:720px; width:100%;
  background:linear-gradient(90deg,#001a1a 25%,#002b2b 37%,#001a1a 63%);
  background-size:400% 100%; animation:cal-shimmer 1.25s infinite;
  box-shadow:0 0 18px #00ffff; border:3px ridge #00ffff;
}

/* ensure Calendly overlays never block scrolling */
.calendly-overlay, .calendly-popup, .calendly-popup-close { pointer-events:auto !important; }
</style>
</head>

<body>
<div class="stars"></div>

<!-- ===== Your full body content (unchanged) ===== -->
<!-- I kept all panels, tables, contact form, etc. identical -->
<!-- You can paste your previous content here exactly â€” no visual edits were made -->

<footer>Â© 2025 Cosmic Physics â€¢ Made with ðŸ’¾ and starlight</footer>

<script src="https://assets.calendly.com/assets/external/widget.js" async></script>

<script>
/* --- Smooth scroll --- */
document.querySelectorAll('nav a').forEach(a=>{
  a.addEventListener('click',e=>{
    const href=a.getAttribute('href');
    if(href && href.startsWith('#')){
      e.preventDefault();
      document.querySelector(href)?.scrollIntoView({behavior:'smooth'});
    }
  });
});

/* --- Fake hit counter --- */
(function(){
  const baseKey='jpt_counter_base',countKey='jpt_counter_count';
  let base=parseInt(localStorage.getItem(baseKey),10);
  if(isNaN(base)){base=Math.floor(3000+Math.random()*6000);localStorage.setItem(baseKey,String(base));}
  let count=parseInt(localStorage.getItem(countKey),10);
  if(isNaN(count))count=0;
  count+=1+Math.floor(Math.random()*3);
  localStorage.setItem(countKey,String(count));
  const total=base+count;
  const digits=String(total).padStart(6,'0').split('');
  const el=document.getElementById('counter');
  el.innerHTML='';
  digits.forEach(d=>{
    const span=document.createElement('span');
    span.className='digit';
    span.textContent=d;
    el.appendChild(span);
  });
})();

/* --- Calendly floating badge (same color scheme) --- */
window.addEventListener('load',()=>{
  const initBadge=()=>{
    Calendly.initBadgeWidget({
      url:'https://calendly.com/jeffnechleba/physics-tutoring-session?hide_event_type_details=1&hide_gdpr_banner=1&background_color=000000&text_color=00ffcc&primary_color=ffff00',
      text:'ðŸ“… Book a Session with Jeff',
      color:'#00ffcc', textColor:'#000000', branding:false
    });
  };
  if(window.Calendly?.initBadgeWidget){initBadge();}
  else{
    const t=setInterval(()=>{
      if(window.Calendly?.initBadgeWidget){clearInterval(t);initBadge();}
    },250);
    setTimeout(()=>clearInterval(t),6000);
  }
});

/* --- iPhone scroll fix and preload optimization --- */
const isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)
  ||(navigator.platform==='MacIntel'&&navigator.maxTouchPoints>1);

if(!isIOS){
  const warmCalendly=()=>{
    if(window.__calWarm)return;
    window.__calWarm=true;
    try{
      Calendly?.initPopupWidget?.({url:'https://calendly.com/jeffnechleba/physics-tutoring-session?hide_gdpr_banner=1'});
      Calendly?.closePopupWidget?.();
    }catch(e){}
  };
  window.addEventListener('mousemove',warmCalendly,{once:true});
  window.addEventListener('scroll',warmCalendly,{once:true});
}

// safety cleanup if Calendly overlay lingers
function nukeCalendlyOverlay(){
  document.querySelectorAll('.calendly-overlay,.calendly-popup').forEach(el=>el.remove());
}
setTimeout(nukeCalendlyOverlay,2000);
</script>
</body>
</html>
